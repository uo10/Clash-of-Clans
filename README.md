# Clash-of-Clans
同济大学2024届软件工程程序设计范式期末项目

## 项目介绍
本项目是基于Cocos2d-x 3.17.2开发的即时战略与模拟经营游戏。项目复刻了《部落冲突》的核心玩法，完整实现了从资源采集、建筑发展、兵种训练到实时战斗策略模拟的游戏玩法闭环。

## 代码规范
- [x] 命名符合Google Style

- [x] 类型转换规范
 
- [x] Const关键字应用
 
- [x] 注释规范

## 系统架构设计
本项目主要基于主村庄和游戏地图两个框架进行设计。
<img width="827" height="877" alt="COCdrawio drawio (1)" src="https://github.com/user-attachments/assets/04e03020-4cfb-4ed8-85e7-fd551d260607" />
<img width="1233" height="739" alt="未命名绘图 drawio (1)" src="https://github.com/user-attachments/assets/6c50ec59-e9a6-4e13-bb4c-8d2cd0c7226e" />


|主村庄相关类|游戏地图相关类|建筑相关类|士兵相关类|场景切换相关类|
|:---:|:---:|:---:|:---:|:---:|
|MainVillage <br> BaseBuilding <br> ResourceProducer <br> ResourceStorage <br> PlayerData|GameMap <br> GameUnit <br> FindPath <br> Trap|ArcherTower <br> Cannon <br> TownHall <br> Wall|Soldier <br> WallBreaker <br> Giant <br> Dragon <br> Barbarian <br> Archer|LoadingScene <br> SplashScene|

## 游戏基本功能


- [x] 主村庄地图

- [x] UI设置

- [x] 各类按钮

- [x] 资源类和防御类建筑

- [x] 放置建筑过程

- [x] 资源和数量限制

- [x] 建造过程

- [x] 资源生产和收集

- [x] 士兵可视化

- [x] 士兵特性

- [x] 投放兵种

- [x] 兵种自动战斗

- [x] 胜负判定

- [x] 支持三张不同风格的战斗地图

- [x] 存档读档功能

## 游戏拓展功能

- [x] 建筑施工时间，加速水晶

- [x] 陷阱、炸弹系统

- [x] 天空兵种(飞龙)

## C++特性

- [x] STL容器

- [x] 迭代器

- [x] 类与多态

- [x] C++11新特性

## 项目分工

|姓名|学号|贡献度|分工|
|:---:|:---:|:---:|:---:|
|佘沐繁|2454349| $\frac{1}{3}$ |资源生产和收集、训练军队、各种按钮和面板（建筑，战斗，设置）、游戏的数据保存以及整体UI的设计与开发|
|张贯一|2451900| $\frac{1}{3}$ |大本营及游戏地图，寻路算法、陷阱功能、兵种目标判定、游戏地图内兵种投放的设计与开发|
|刘子康|2353957| $\frac{1}{3}$ |等级系统、兵种体系、行为逻辑、视觉与音效反馈的设计与开发，部分按钮与战斗系统的协同开发|

## 开发周期

### 2025.12.1-2025.12.7

设计并实现大本营地图的缩放和移动，实现简单的士兵放置
实现了资源生产和存储建筑，设计了建筑基类
设计士兵基类与大本营的等级系统

### 2025.12.8-2025.12.14

完成两张游戏地图的设计，实现在游戏地图中士兵的放置、自动寻路、优先级判定攻击系统以及防御塔的攻击机制
实现了兵营训练军队的设计，系统资源UI，建筑选择菜单，建筑功能菜单

### 2025.12.15-2025.12.21

在地图中设置陷阱，优化士兵选择到放置的过程，优化炸弹兵功能
大本营的战斗按钮，战斗地图的选兵菜单，所有地图的设置按钮。音量调节逻辑。判断战斗结束逻辑。游戏开始界面，读档存档逻辑。
兵种在大本营界面的游走模式，攻击系统的整合，添加音效与背景音乐，加入取消建造按钮

### 2025.12.22-2025.12.28

添加第三张地图，加入天空兵种，对命名和注释进行规范化处理
增加了建筑建造时间和加速建造按钮，整体字体UI优化更新。
优化部分代码架构与视觉反馈
